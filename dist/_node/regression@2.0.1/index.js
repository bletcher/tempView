var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var q={exports:{}};(function(v,S){(function(m,x){x(v)})(z,function(m){function x(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}var O=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function T(t){if(Array.isArray(t)){for(var o=0,n=Array(t.length);o<t.length;o++)n[o]=t[o];return n}else return Array.from(t)}var _={order:2,precision:2,period:null};function w(t,o){var n=[],r=[];t.forEach(function(u,p){u[1]!==null&&(r.push(u),n.push(o[p]))});var a=r.reduce(function(u,p){return u+p[1]},0),i=a/r.length,f=r.reduce(function(u,p){var l=p[1]-i;return u+l*l},0),e=r.reduce(function(u,p,l){var s=n[l],h=p[1]-s[1];return u+h*h},0);return 1-e/f}function C(t,o){for(var n=t,r=t.length-1,a=[o],i=0;i<r;i++){for(var f=i,e=i+1;e<r;e++)Math.abs(n[i][e])>Math.abs(n[i][f])&&(f=e);for(var u=i;u<r+1;u++){var p=n[u][i];n[u][i]=n[u][f],n[u][f]=p}for(var l=i+1;l<r;l++)for(var s=r;s>=i;s--)n[s][l]-=n[s][i]*n[i][l]/n[i][i]}for(var h=r-1;h>=0;h--){for(var d=0,M=h+1;M<r;M++)d+=n[M][h]*a[M];a[h]=(n[r][h]-d)/n[h][h]}return a}function c(t,o){var n=Math.pow(10,o);return Math.round(t*n)/n}var j={linear:function(t,o){for(var n=[0,0,0,0,0],r=0,a=0;a<t.length;a++)t[a][1]!==null&&(r++,n[0]+=t[a][0],n[1]+=t[a][1],n[2]+=t[a][0]*t[a][0],n[3]+=t[a][0]*t[a][1],n[4]+=t[a][1]*t[a][1]);var i=r*n[2]-n[0]*n[0],f=r*n[3]-n[0]*n[1],e=i===0?0:c(f/i,o.precision),u=c(n[1]/r-e*n[0]/r,o.precision),p=function(s){return[c(s,o.precision),c(e*s+u,o.precision)]},l=t.map(function(s){return p(s[0])});return{points:l,predict:p,equation:[e,u],r2:c(w(t,l),o.precision),string:u===0?"y = "+e+"x":"y = "+e+"x + "+u}},exponential:function(t,o){for(var n=[0,0,0,0,0,0],r=0;r<t.length;r++)t[r][1]!==null&&(n[0]+=t[r][0],n[1]+=t[r][1],n[2]+=t[r][0]*t[r][0]*t[r][1],n[3]+=t[r][1]*Math.log(t[r][1]),n[4]+=t[r][0]*t[r][1]*Math.log(t[r][1]),n[5]+=t[r][0]*t[r][1]);var a=n[1]*n[2]-n[5]*n[5],i=Math.exp((n[2]*n[3]-n[5]*n[4])/a),f=(n[1]*n[4]-n[5]*n[3])/a,e=c(i,o.precision),u=c(f,o.precision),p=function(s){return[c(s,o.precision),c(e*Math.exp(u*s),o.precision)]},l=t.map(function(s){return p(s[0])});return{points:l,predict:p,equation:[e,u],string:"y = "+e+"e^("+u+"x)",r2:c(w(t,l),o.precision)}},logarithmic:function(t,o){for(var n=[0,0,0,0],r=t.length,a=0;a<r;a++)t[a][1]!==null&&(n[0]+=Math.log(t[a][0]),n[1]+=t[a][1]*Math.log(t[a][0]),n[2]+=t[a][1],n[3]+=Math.pow(Math.log(t[a][0]),2));var i=(r*n[1]-n[2]*n[0])/(r*n[3]-n[0]*n[0]),f=c(i,o.precision),e=c((n[2]-f*n[0])/r,o.precision),u=function(l){return[c(l,o.precision),c(c(e+f*Math.log(l),o.precision),o.precision)]},p=t.map(function(l){return u(l[0])});return{points:p,predict:u,equation:[e,f],string:"y = "+e+" + "+f+" ln(x)",r2:c(w(t,p),o.precision)}},power:function(t,o){for(var n=[0,0,0,0,0],r=t.length,a=0;a<r;a++)t[a][1]!==null&&(n[0]+=Math.log(t[a][0]),n[1]+=Math.log(t[a][1])*Math.log(t[a][0]),n[2]+=Math.log(t[a][1]),n[3]+=Math.pow(Math.log(t[a][0]),2));var i=(r*n[1]-n[0]*n[2])/(r*n[3]-Math.pow(n[0],2)),f=(n[2]-i*n[0])/r,e=c(Math.exp(f),o.precision),u=c(i,o.precision),p=function(s){return[c(s,o.precision),c(c(e*Math.pow(s,u),o.precision),o.precision)]},l=t.map(function(s){return p(s[0])});return{points:l,predict:p,equation:[e,u],string:"y = "+e+"x^"+u,r2:c(w(t,l),o.precision)}},polynomial:function(t,o){for(var n=[],r=[],a=0,i=0,f=t.length,e=o.order+1,u=0;u<e;u++){for(var p=0;p<f;p++)t[p][1]!==null&&(a+=Math.pow(t[p][0],u)*t[p][1]);n.push(a),a=0;for(var l=[],s=0;s<e;s++){for(var h=0;h<f;h++)t[h][1]!==null&&(i+=Math.pow(t[h][0],u+s));l.push(i),i=0}r.push(l)}r.push(n);for(var d=C(r,e).map(function(y){return c(y,o.precision)}),M=function(y){return[c(y,o.precision),c(d.reduce(function(G,P,k){return G+P*Math.pow(y,k)},0),o.precision)]},A=t.map(function(y){return M(y[0])}),b="y = ",g=d.length-1;g>=0;g--)g>1?b+=d[g]+"x^"+g+" + ":g===1?b+=d[g]+"x + ":b+=d[g];return{string:b,points:A,predict:M,equation:[].concat(T(d)).reverse(),r2:c(w(t,A),o.precision)}}};function F(){var t=function(o,n){return O({_round:c},o,x({},n,function(r,a){return j[n](r,O({},_,a))}))};return Object.keys(j).reduce(t,{})}m.exports=F()})})(q);var E=q.exports,H=D(E);export{H as default};
